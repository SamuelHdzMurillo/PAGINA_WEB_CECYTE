<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ubica tu Plantel - CECyTE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../style.css" />
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
      
      #map {
        height: 100vh;
        width: 100vw;
        z-index: 0;
      }
      
      @media (max-width: 768px) {
        #map {
          height: calc(100vh - 64px);
          margin-top: 64px;
        }
      }
      
      nav {
        position: relative;
        z-index: 9999;
        backdrop-filter: blur(8px);
        background-color: rgba(255, 255, 255, 0.95);
      }
      
      .button-panel {
        z-index: 9998;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
        backdrop-filter: blur(12px);
        transition: all 0.3s ease;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      .button-panel:hover {
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        transform: translateY(-2px);
      }
      
      #schoolInfo {
        z-index: 9997;
        backdrop-filter: blur(12px);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
        transition: all 0.3s ease;
        box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.15);
        border-top: 3px solid #f97316;
      }
      
      .leaflet-control select {
        min-width: 120px;
        cursor: pointer;
        padding: 10px 12px;
        border-radius: 10px;
        border: 2px solid #e2e8f0;
        background-color: white;
        font-family: 'Inter', sans-serif;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      
      .leaflet-control select:hover {
        border-color: #f97316;
        box-shadow: 0 4px 12px rgba(249, 115, 22, 0.2);
      }
      
      .school-button {
        transition: all 0.3s ease;
        border-radius: 10px;
        font-weight: 500;
        position: relative;
        overflow: hidden;
      }
      
      .school-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.5s;
      }
      
      .school-button:hover::before {
        left: 100%;
      }
      
      .school-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      }
      
      .modal {
        animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      }
      
      @keyframes slideUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      
      .leaflet-control-zoom {
        border-radius: 10px !important;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
      }
      
      .leaflet-control-zoom a {
        background-color: white !important;
        color: #4a5568 !important;
        border: none !important;
        transition: all 0.2s ease !important;
      }
      
      .leaflet-control-zoom a:hover {
        background-color: #f97316 !important;
        color: white !important;
      }
      
      .info-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        margin-top: 12px;
        padding: 10px 20px;
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
      }
      
      .info-link:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(249, 115, 22, 0.4);
        background: linear-gradient(135deg, #ea580c 0%, #c2410c 100%);
      }
      
      .info-link.emsad-link {
        background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);
      }
      
      .info-link.emsad-link:hover {
        background: linear-gradient(135deg, #15803d 0%, #166534 100%);
        box-shadow: 0 6px 20px rgba(22, 163, 74, 0.4);
      }
      
      /* Mobile Toggle Button */
      .mobile-toggle-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 9996;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        color: white;
        border: none;
        box-shadow: 0 4px 20px rgba(249, 115, 22, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      
      .mobile-toggle-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 25px rgba(249, 115, 22, 0.6);
      }
      
      .mobile-toggle-btn.active {
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
      }
      
      @media (max-width: 768px) {
        .mobile-toggle-btn {
          bottom: 80px !important;
        }
        
        .mobile-toggle-btn.modal-open {
          bottom: calc(70vh + 20px) !important;
        }
      }
      
      /* Responsive Styles */
      @media (max-width: 768px) {
        #mobileButtonPanel {
          position: fixed;
          top: 64px !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          width: 100% !important;
          max-width: 100% !important;
          max-height: calc(100vh - 64px) !important;
          padding: 0 !important;
          border-radius: 0 !important;
          transform: translateY(-100%);
          transition: transform 0.3s ease-in-out;
          z-index: 9998 !important;
          display: block !important;
        }
        
        #mobileButtonPanel.show {
          transform: translateY(0);
        }
        
        .button-panel {
          display: none !important;
        }
        
        #schoolInfo {
          padding: 20px 16px !important;
          max-height: 70vh !important;
          overflow-y: auto !important;
          z-index: 9997 !important;
        }
        
        #schoolInfo.show {
          display: block !important;
        }
        
        #schoolInfo h2 {
          font-size: 1.25rem !important;
          padding-right: 50px !important;
          line-height: 1.3 !important;
        }
        
        #schoolInfo p {
          font-size: 0.9rem !important;
          line-height: 1.5 !important;
        }
        
        .info-link {
          width: 100%;
          justify-content: center;
          padding: 12px 16px !important;
          font-size: 0.9rem !important;
        }
        
        .leaflet-control {
          margin: 10px 5px !important;
        }
        
        .leaflet-control-zoom {
          margin: 10px 5px !important;
        }
      }
      
      @media (max-width: 640px) {
        #mobileButtonPanel {
          padding: 12px !important;
        }
        
        #mobileButtonPanel h3 {
          font-size: 1rem !important;
          margin-bottom: 12px !important;
        }
        
        .school-button {
          padding: 10px 12px !important;
          font-size: 0.8rem !important;
          line-height: 1.4 !important;
        }
        
        .mobile-toggle-btn {
          width: 56px;
          height: 56px;
          bottom: 16px;
          right: 16px;
        }
        
        #schoolInfo {
          padding: 16px 12px !important;
          max-height: 60vh !important;
        }
      }
    </style>
  </head>
   <!-- INICIO NAVBAR CON SUBEMENUS -->
<nav class="bg-white shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <!-- Logo -->
            <div class="flex-shrink-0 flex items-center">
                <img src="../img_logos/logo_Cecyte_vertical_sin_fondo.png" alt="logo_Cecyte_vertical_sin_fondo" class="h-12 w-auto">
            </div>
            <!-- Responsive menu button -->
            <div class="flex items-center sm:hidden">
                <button id="menu-btn" class="text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700">
                    <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
            <!-- Navbar links -->
            <div class="hidden sm:flex sm:items-center sm:ml-6">
                <div class="relative group">
                    <a href="../index.html" class="text-gray-700 hover:text-green-600 px-5 py-5 rounded-md text-sm font-medium">Inicio</a>
                </div>
                <div class="relative group">
                    <a href="#" class="text-gray-700 hover:text-green-600 px-5 py-5 rounded-md text-sm font-medium">Institución</a>
                    <!-- Submenu -->
                    <div class="absolute hidden group-hover:block bg-white shadow-lg mt-2 rounded-md z-10">
                        <a href="../pages_institucion/pagina_historia.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Historia, Misión y Visión</a>
  
                        <a href="../pages_institucion/planteles_cecyte.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Planteles CecyteBCS</a>
                        
                        <a href="../pages_institucion/planteles_emsad.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Planteles Emsad</a>
                        
                        <a href="../directorio_telefonico.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Directorio Telefónico</a>
                    </div>
                </div>
                <div class="relative group">
                    <a href="#" class="text-gray-700 hover:text-green-600 px-5 py-5 rounded-md text-sm font-medium">Oferta Educativa</a>
                    <!-- Submenu -->
                    <div class="absolute hidden group-hover:block bg-white shadow-lg mt-2 rounded-md">
                        
                        <a href="../pages_oferta_educativa/mantenimiento_equipo_de_computo.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Soporte y Mantenimiento equipo de cómputo</a>
                        <a href="../pages_oferta_educativa/programacion.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Programación</a>
                        <a href="../pages_oferta_educativa/ventas.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Ventas</a>
                        <a href="../pages_oferta_educativa/ecoturismo.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Ecoturismo</a>
                        <a href="../pages_oferta_educativa/produccion_industrial_de_alimentos.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Producción industrial de alimentos</a>
                        <a href="../pages_oferta_educativa/mantenimiento_industrial.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Mantenimiento Industrial</a>
                        <a href="../pages_oferta_educativa/servicios_de_hoteleria.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Servicios de Hotelería</a>
                    </div>
                </div>
                <div class="relative group">
                    <a href="#" class="text-gray-700 hover:text-green-600 px-5 py-5 rounded-md text-sm font-medium">Alumnos</a>
                    <!-- Submenu -->
                    <div class="absolute hidden group-hover:block bg-white shadow-lg mt-2 rounded-md">
                        
                        <a href="../pages_alumnos/becas.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Becas</a>
                        <a href="../pages_alumnos/prog_acompanamiento.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Programa de Acompañamiento</a>
                        <a href="../pages_alumnos/requisitos_de_ingreso.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Requisitos de Ingreso</a>
                    </div>
                </div>
  
                <div class="relative group">
                  <a href="#" class="text-gray-700 hover:text-green-600 px-5 py-5 rounded-md text-sm font-medium">Normatividad</a>
                  <!-- Submenu -->
                  <div class="absolute hidden group-hover:block bg-white shadow-lg mt-2 rounded-md">
                      
                      <a href="../pages_normatividad/manuales_de_procedimientos.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Manuales de Procedimientos</a>
                      
  
                      <a href="../pages_normatividad/manuales_de_org.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Manuales de Organización</a>
  
                      <a href="https://drive.google.com/file/d/1w1kARXVhw-SFsSY7q7JPBH4MgAqN8C_S/view?usp=drive_link" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Reglamento interno</a>
  
                      <a href="https://drive.google.com/file/d/13m142kMwEJ6hj8xaDJXu-XdA-jAkO9jb/view?usp=sharing" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Código de Conducta</a>
  
                      <a href="https://drive.google.com/file/d/1lIJBD8IXxHcM3hwp7v3VmG2X1EJZXKnG/view?usp=sharing" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Protocolo de Seguridad </a>
  
                      
      
                  </div>
              </div>
  
                <div class="relative group">
                  <a href="https://transparencia.cecytebcs.edu.mx/" class="text-gray-700 hover:text-green-600 px-5 py-5 rounded-md text-sm font-medium">Transparencia</a>
                  <div class="absolute hidden group-hover:block bg-white shadow-lg mt-2 rounded-md">
  
                    <a href="https://transparencia.cecytebcs.edu.mx/informacion-publica/articulo-75" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Artículo 75</a>
                      
                    <a href="../pages_transparencia/cuenta_publica.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Cuenta Pública</a>
  
                    <a href="../pages_transparencia/ley_diciplina.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Ley de Disciplina Financiera</a>
  
                    
    
                </div>
              </div>
            </div>
        </div>
    </div>
    
    <!-- Responsive Menu -->
    <div class="sm:hidden hidden" id="mobile-menu">
  <a href="#" class="block text-gray-700 hover:text-green-600 px-4 py-2">Inicio</a>
  <div class="block">
      <button class="w-full text-left text-gray-700 hover:text-green-600 px-4 py-2 flex justify-between items-center focus:outline-none" id="servicios-btn">
          Institución
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
      </button>
      <!-- Submenu -->
      <div class="hidden" id="servicios-submenu">
          <a href="../pages_institucion/pagina_historia.html" class="block px-8 py-2 text-gray-700 hover:bg-gray-100">Historia, Misión y Visión</a>
          <a href="../pages_institucion/planteles_cecyte.html" class="block px-8 py-2 text-gray-700 hover:bg-gray-100">Planteles CecyteBCS</a>
          <a href="../pages_institucion/planteles_emsad.html" class="block px-8 py-2 text-gray-700 hover:bg-gray-100">Planteles Emsad</a>
          <a href="../directorio_telefonico.html" class="block px-8 py-2 text-gray-700 hover:bg-gray-100">Directorio Telefónico</a>
      </div>
  </div>
  <div class="block">
      <button class="w-full text-left text-gray-700 hover:text-green-600 px-4 py-2 flex justify-between items-center focus:outline-none" id="nosotros-btn">
          Oferta Educativa
          
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
      </button>
      
      <!-- Submenu -->
      <div class="hidden" id="nosotros-submenu">
          <a href="../pages_oferta_educativa/mantenimiento_equipo_de_computo.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Soporte y Mantenimiento equipo de cómputo</a>
          <a href="../pages_oferta_educativa/programacion.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Programación</a>
          <a href="../pages_oferta_educativa/ventas.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Ventas</a>
          <a href="../pages_oferta_educativa/ecoturismo.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Ecoturismo</a>
          <a href="../pages_oferta_educativa/produccion_industrial_de_alimentos.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Producción industrial de alimentos</a>
          <a href="../pages_oferta_educativa/mantenimiento_industrial.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Mantenimiento Industrial</a>
          <a href="../pages_oferta_educativa/servicios_de_hoteleria.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Servicios de Hotelería</a>
      </div>
  </div>
  <div class="block">
    <button class="w-full text-left text-gray-700 hover:text-green-600 px-4 py-2 flex justify-between items-center focus:outline-none" id="alumnos-btn">
      Alumnos
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </button>
    <!-- Submenu -->
    <div class="hidden" id="alumnos-submenu">
      <a href="../pages_alumnos/becas.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Becas</a>
      <a href="../pages_alumnos/prog_acompanamiento.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Programa de Acompañamiento</a>
      <a href="../pages_alumnos/requisitos_de_ingreso.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Requisitos de Ingreso</a>
    </div>
  </div>
  
  
  
  <div class="block">
    <button class="w-full text-left text-gray-700 hover:text-green-600 px-4 py-2 flex justify-between items-center focus:outline-none" id="norma-btn">
      Normatividad
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </button>
    <!-- Submenu -->
    <div class="hidden" id="norma-submenu">
      <a href="../pages_normatividad/manuales_de_procedimientos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Manuales de Procedimientos</a>
      <a href="../pages_normatividad/manuales_de_org.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Manuales de Organización</a>
    </div>
  </div>
  
  <div class="block">
    <button class="w-full text-left text-gray-700 hover:text-green-600 px-4 py-2 flex justify-between items-center focus:outline-none" id="trns-btn">
      Transparencia
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </button>
    <!-- Submenu -->
    <div class="hidden" id="trns-submenu">
      <a href="https://transparencia.cecytebcs.edu.mx/" class="block px-4 py-4 text-gray-700 hover:bg-gray-100">Artículo 75</a>
      <a href="../pages_transparencia/cuenta_publica.html" class="block px-4 py-4 text-gray-700 hover:bg-gray-100">Cuenta Pública</a>
      <a href="../pages_transparencia/ley_diciplina.html" class="block py-2 px-4 text-gray-700 hover:bg-gray-100">Ley de Disciplina</a>
    </div>
  </div>
  
  </div>
  </div>
  
    <div class="w-full h-1 bg-orange-500"></div>
  </nav>
  <!-- FIN NAVBAR CON SUBEMENUS -->
<body class="overflow-hidden">
    <div class="fixed top-20 right-4 z-50 rounded-xl shadow-lg p-6 max-h-[90vh] overflow-y-auto w-72 button-panel md:block hidden">
      <div class="mb-6">
        <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
          <svg class="w-6 h-6 mr-2 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
          </svg>
          CECyTE Planteles
        </h3>
        <div class="space-y-2" id="cecyteButtons">
          <!-- CECyTE buttons will be generated here -->
        </div>
      </div>
      <div>
        <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
          <svg class="w-6 h-6 mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
          </svg>
          EMSAD Centros
        </h3>
        <div class="space-y-2" id="emsadButtons">
          <!-- EMSAD buttons will be generated here -->
        </div>
      </div>
    </div>

    <div id="map" class="relative"></div>

    <div id="schoolInfo" class="hidden fixed bottom-0 left-0 right-0 bg-white p-6 md:p-8 rounded-t-3xl shadow-2xl modal">
      <div class="max-w-3xl mx-auto relative">
        <h2 id="schoolName" class="text-2xl md:text-3xl font-bold text-gray-800 mb-3 pr-10 md:pr-0"></h2>
        <p id="schoolDetails" class="text-gray-600 text-base md:text-lg mb-4"></p>
        <div id="schoolLinkContainer"></div>
        <button onclick="closeModal()" class="absolute top-4 right-4 md:top-6 md:right-6 text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-full">
          <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Mobile button panel (hidden by default) -->
    <div class="fixed top-0 left-0 right-0 bottom-0 z-50 bg-white overflow-y-auto md:hidden button-panel" id="mobileButtonPanel">
      <div class="sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between z-10">
        <h2 class="text-xl font-bold text-gray-900">Planteles</h2>
        <button onclick="toggleMobilePanel()" class="p-2 text-gray-600 hover:text-gray-900 rounded-full hover:bg-gray-100">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="p-4">
        <div class="mb-6">
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
            <svg class="w-5 h-5 mr-2 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
            </svg>
            CECyTE Planteles
          </h3>
          <div class="space-y-2" id="cecyteButtonsMobile">
            <!-- CECyTE buttons will be generated here -->
          </div>
        </div>
        <div>
          <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
            <svg class="w-5 h-5 mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
            </svg>
            EMSAD Centros
          </h3>
          <div class="space-y-2" id="emsadButtonsMobile">
            <!-- EMSAD buttons will be generated here -->
          </div>
        </div>
      </div>
    </div>
    
    <!-- Mobile Toggle Button -->
    <button onclick="toggleMobilePanel()" class="mobile-toggle-btn md:hidden" id="mobileToggleBtn" aria-label="Mostrar planteles">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" id="toggleIcon">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
      // Initialize map centered on Baja California Sur
      const map = L.map("map").setView([25.5937, -111.3932], 7);
      
      // Define different map styles
      const mapStyles = {
        streets: L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '© OpenStreetMap contributors'
        }),
        satellite: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
          attribution: '© Esri'
        }),
        terrain: L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
          attribution: '© OpenTopoMap'
        })
      };

      // Add the default style
      mapStyles.streets.addTo(map);

      // Add style switcher control
      const styleControl = L.control({ position: 'topleft' });
      styleControl.onAdd = function() {
        const div = L.DomUtil.create('div', 'leaflet-bar leaflet-control');
        div.innerHTML = `
          <select class="p-2 bg-white border rounded-lg shadow-sm text-sm font-medium" onchange="changeMapStyle(this.value)">
            <option value="streets">Mapa de Calles</option>
            <option value="satellite">Vista Satélite</option>
            <option value="terrain">Vista Terreno</option>
          </select>
        `;
        return div;
      };
      styleControl.addTo(map);

      // Function to change map style
      function changeMapStyle(style) {
        Object.values(mapStyles).forEach(layer => map.removeLayer(layer));
        mapStyles[style].addTo(map);
      }

      // Custom pin icons
      const cecyteIcon = L.icon({
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
      });

      const emsadIcon = L.icon({
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
      });

      // School locations data with page links
      const schools = {
        cecytes: [
          {
            name: "CECyT 01 - Mulegé",
            location: [26.873564918462165, -111.94217503608256],
            details: "Plantel Mulegé",
            link: "pages_planteles/C01.html",
          },
          {
            name: "CECyT 02 - Todos Santos", 
            location: [23.448965940475677, -110.22063293956815],
            details: "Plantel Todos Santos",
            link: "pages_planteles/C02.html",
          },
          {
            name: "CECyT 03 - Santiago",
            location: [23.476990370944463, -109.71446261756259],
            details: "Plantel Santiago",
            link: "pages_planteles/C03.html",
          },
          {
            name: "CECyT 04 - San José del Cabo",
            location: [23.093522399280445, -109.72572397524469], 
            details: "Plantel San José del Cabo",
            link: "pages_planteles/C04.html",
          },
          {
            name: "CECyT 05 - Cabo San Lucas",
            location: [22.93778878669306, -109.92670586175653], 
            details: "Plantel Cabo San Lucas",
            link: "pages_planteles/C05.html",
          },
          {
            name: "CECyT 06 - Vizcaíno",
            location: [27.64276562231418, -113.37103736816033], 
            details: "Plantel Vizcaíno",
            link: "pages_planteles/C06.html",
          },
          {
            name: "CECyT 07 - San José del Cabo",
            location: [23.135836002882126, -109.71124334270363], 
            details: "Plantel San José del Cabo",
            link: "pages_planteles/C07.html",
          },
          {
            name: "CECyT 08 - La Paz",
            location: [24.057138652372732, -110.2905862115481], 
            details: "Plantel La Paz",
            link: "pages_planteles/C08.html",
          },
          {
            name: "CECyT 09 - Los Planes",
            location: [23.974316060300442, -109.96780124615195], 
            details: "Plantel Los Planes",
            link: "pages_planteles/C09.html",
          },
          {
            name: "CECyT 10 - Cd. Constitución ",
            location: [25.042473348082375, -111.64313428524196], 
            details: "Plantel Cd. Constitución",
            link: "pages_planteles/C10.html",
          },
          {
            name: "CECyT 11 - El Centenario ",
            location: [24.09604700201797, -110.41384107106433], 
            details: "Plantel El Centenario",
            link: "pages_planteles/C11.html",
          },
        ],
        emsad: [
          {
            name: "EMSaD 01 - Bahía Asunción",
            location: [27.13996617747351, -114.29514938295469],
            details: "Centro EMSAD Bahía Asunción",
            link: "pages_planteles/E01.html",
          },
          {
            name: "EMSaD 03 - Bahía Tortugas",
            location: [27.69322047302178, -114.89125074627738],
            details: "Centro EMSAD Bahía Tortugas",
            link: "pages_planteles/E03.html",
          },
          {
            name: "EMSaD 06 - La Bocana",
            location: [26.797476307120448, -113.71209480117214],
            details: "Centro EMSAD La Bocana",
            link: "pages_planteles/E06.html",
          },
          {
            name: "EMSaD 07 - San Ignacio",
            location: [27.281834855431054, -112.89441508098308],
            details: "Centro EMSAD San Ignacio",
            link: "pages_planteles/E07.html",
          },
          {
            name: "EMSaD 08 - Ciudad Insurgentes",
            location: [25.259700510116563, -111.77467761835742],
            details: "Centro EMSAD Ciudad Insurgentes",
            link: "pages_planteles/E08.html",
          },
          {
            name: "EMSaD 09 - Benito Juárez",
            location: [25.11528896679925, -111.82713684016714],
            details: "Centro EMSAD Benito Juárez",
            link: "pages_planteles/E09.html",
          },
          {
            name: "EMSaD 10 - Puerto Adolfo López Mateos",
            location: [25.191195621361256, -112.10583417518794],
            details: "Centro EMSAD Puerto Adolfo López Mateos",
            link: "pages_planteles/E10.html",
          },
          {
            name: "EMSaD 11 - San Isidro",
            location: [26.204266214470067, -112.04423242489457],
            details: "Centro EMSAD San Isidro",
            link: "pages_planteles/E11.html",
          },
          {
            name: "EMSaD 12 - Las Pocitas",
            location: [24.392909895632314, -111.10646490167478],
            details: "Centro EMSAD Las Pocitas",
            link: "pages_planteles/E12.html",
          },
          {
            name: "EMSaD 13 - Manuel Márquez de León",
            location: [24.160945514197117, -110.26818824638043],
            details: "Centro EMSAD Manuel Márquez de León",
            link: "pages_planteles/E13.html",
          },
          {
            name: "EMSaD 14 - Ejido Melitón Albañez Domínguez",
            location: [23.662544234791472, -110.42151473898444],
            details: "Centro EMSAD Ejido Melitón Albañez Domínguez",
            link: "pages_planteles/E14.html",
          },
          {
            name: "EMSaD 16 - Los Barriles",
            location: [23.682590377366544, -109.71745171807392],
            details: "Centro EMSAD Los Barriles",
            link: "pages_planteles/E16.html",
          },
        ],
      };

      function showSchoolInfo(school) {
        const modal = document.getElementById("schoolInfo");
        document.getElementById("schoolName").textContent = school.name;
        document.getElementById("schoolDetails").textContent = school.details;
        
        // Add link to plantel page
        const linkContainer = document.getElementById("schoolLinkContainer");
        linkContainer.innerHTML = '';
        
        if (school.link) {
          const isEmsad = school.name.includes("EMSaD");
          const link = document.createElement("a");
          link.href = school.link;
          link.className = `info-link ${isEmsad ? 'emsad-link' : ''}`;
          link.innerHTML = `
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
            Ver más información del plantel
          `;
          linkContainer.appendChild(link);
        }
        
        // Close mobile panel if open
        if (window.innerWidth <= 768) {
          const mobilePanel = document.getElementById('mobileButtonPanel');
          if (mobilePanel.classList.contains('show')) {
            toggleMobilePanel();
          }
        }
        
        modal.classList.remove("hidden");
        modal.classList.add("show");
        
        // Adjust toggle button position when modal is open
        if (window.innerWidth <= 768) {
          const toggleBtn = document.getElementById('mobileToggleBtn');
          toggleBtn.classList.add('modal-open');
        }
      }

      function closeModal() {
        const modal = document.getElementById("schoolInfo");
        modal.classList.add("hidden");
        modal.classList.remove("show");
        
        // Reset toggle button position when modal is closed
        if (window.innerWidth <= 768) {
          const toggleBtn = document.getElementById('mobileToggleBtn');
          toggleBtn.classList.remove('modal-open');
        }
      }

      // Add markers with custom pins for CECyTE schools
      schools.cecytes.forEach((school) => {
        L.marker(school.location, { icon: cecyteIcon })  // Changed from pinIcon to cecyteIcon
          .addTo(map)
          .bindPopup(school.name)
          .on("click", () => showSchoolInfo(school));
      });

      // Add markers with custom pins for EMSAD schools  
      schools.emsad.forEach((school) => {
        L.marker(school.location, { icon: emsadIcon })   // Changed from pinIcon to emsadIcon
          .addTo(map)
          .bindPopup(school.name)
          .on("click", () => showSchoolInfo(school));
      });

      // Create buttons for schools
      function createSchoolButtons() {
        const cecyteContainer = document.getElementById("cecyteButtons");
        const emsadContainer = document.getElementById("emsadButtons");
        const cecyteContainerMobile = document.getElementById("cecyteButtonsMobile");
        const emsadContainerMobile = document.getElementById("emsadButtonsMobile");

        schools.cecytes.forEach((school) => {
          // Desktop button
          const button = document.createElement("button");
          button.className = "school-button w-full text-left px-4 py-3 rounded-lg bg-orange-500 hover:bg-orange-600 text-white transition-all duration-200 text-sm font-medium shadow-sm";
          button.textContent = school.name;
          button.onclick = () => {
            map.setView(school.location, 13);
            showSchoolInfo(school);
          };
          cecyteContainer.appendChild(button);
          
          // Mobile button
          const mobileButton = button.cloneNode(true);
          cecyteContainerMobile.appendChild(mobileButton);
        });

        schools.emsad.forEach((school) => {
          // Desktop button
          const button = document.createElement("button");
          button.className = "school-button w-full text-left px-4 py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white transition-all duration-200 text-sm font-medium shadow-sm";
          button.textContent = school.name;
          button.onclick = () => {
            map.setView(school.location, 13);
            showSchoolInfo(school);
          };
          emsadContainer.appendChild(button);
          
          // Mobile button
          const mobileButton = button.cloneNode(true);
          emsadContainerMobile.appendChild(mobileButton);
        });
      }

      // Initialize buttons
      createSchoolButtons();
      
      // Mobile panel toggle function
      function toggleMobilePanel() {
        const panel = document.getElementById('mobileButtonPanel');
        const btn = document.getElementById('mobileToggleBtn');
        const icon = document.getElementById('toggleIcon');
        
        if (panel.classList.contains('show')) {
          panel.classList.remove('show');
          btn.classList.remove('active');
          icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>';
        } else {
          panel.classList.add('show');
          btn.classList.add('active');
          icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>';
        }
      }
      
      // Close mobile panel when clicking outside
      document.getElementById('mobileButtonPanel').addEventListener('click', function(e) {
        if (e.target === this) {
          toggleMobilePanel();
        }
      });
      
      // Mobile menu toggle
      const menuBtn = document.getElementById('menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const serviciosBtn = document.getElementById('servicios-btn');
      const serviciosSubmenu = document.getElementById('servicios-submenu');
      const nosotrosBtn = document.getElementById('nosotros-btn');
      const nosotrosSubmenu = document.getElementById('nosotros-submenu');
      const alumnosBtn = document.getElementById('alumnos-btn');
      const alumnosSubmenu = document.getElementById('alumnos-submenu');
      const normaBtn = document.getElementById('norma-btn');
      const normaSubmenu = document.getElementById('norma-submenu');
      const trnsBtn = document.getElementById('trns-btn');
      const trnsSubmenu = document.getElementById('trns-submenu');

      if (menuBtn) {
        menuBtn.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
      }

      if (serviciosBtn) {
        serviciosBtn.addEventListener('click', () => {
          serviciosSubmenu.classList.toggle('hidden');
        });
      }

      if (nosotrosBtn) {
        nosotrosBtn.addEventListener('click', () => {
          nosotrosSubmenu.classList.toggle('hidden');
        });
      }

      if (alumnosBtn) {
        alumnosBtn.addEventListener('click', () => {
          alumnosSubmenu.classList.toggle('hidden');
        });
      }

      if (normaBtn) {
        normaBtn.addEventListener('click', () => {
          normaSubmenu.classList.toggle('hidden');
        });
      }

      if (trnsBtn) {
        trnsBtn.addEventListener('click', () => {
          trnsSubmenu.classList.toggle('hidden');
        });
      }
    </script>
  </body>
</html>
